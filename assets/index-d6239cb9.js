import{b as Q,i as X,d as B,a as z,u as Y,r as H,c as b,T as D,o as ee,e as te,f as h,g as N,w as g,h as A,j as C,n as E,k as n,l as O,E as W,m as oe,p as V,t as q,q as se,s as L,F as ne,v as R,x as ae,y as p,z as le,_ as ie,C as re,A as ue,B as F,D as ce,G as M,H as j,I as de,J as G,K as pe,L as fe,M as me,N as ve,O as _e,P as ge,Q as ye,R as he,S as Ce,U as we,V as Ee,W as xe,X as be,Y as Se}from"./index-537f057f.js";import{E as Te,a as ke}from"./el-col-729108bb.js";import{E as Ne}from"./el-button-caa9e001.js";import{g as Ie}from"./time-3c885e48.js";const K=["success","info","warning","error"],$e=Q({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:X},id:{type:String,default:""},message:{type:B([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:B(Function),default:()=>{}},onClose:{type:B(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...K,""],default:""},zIndex:Number}),Be={destroy:()=>!0},Ve=["id"],Fe=["textContent"],He={key:0},Le=["innerHTML"],Me=z({name:"ElNotification"}),Pe=z({...Me,props:$e,emits:Be,setup(t,{expose:a}){const o=t,{ns:s,zIndex:f}=Y("notification"),{nextZIndex:c,currentZIndex:i}=f,{Close:m}=re,r=H(!1);let l;const v=b(()=>{const e=o.type;return e&&D[o.type]?s.m(e):""}),u=b(()=>o.type&&D[o.type]||o.icon),d=b(()=>o.position.endsWith("right")?"right":"left"),_=b(()=>o.position.startsWith("top")?"top":"bottom"),S=b(()=>{var e;return{[_.value]:`${o.offset}px`,zIndex:(e=o.zIndex)!=null?e:i.value}});function y(){o.duration>0&&({stop:l}=ue(()=>{r.value&&w()},o.duration))}function T(){l==null||l()}function w(){r.value=!1}function $({code:e}){e===F.delete||e===F.backspace?T():e===F.esc?r.value&&w():y()}return ee(()=>{y(),c(),r.value=!0}),te(document,"keydown",$),a({visible:r,close:w}),(e,k)=>(h(),N(le,{name:n(s).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:k[1]||(k[1]=U=>e.$emit("destroy")),persisted:""},{default:g(()=>[A(C("div",{id:e.id,class:E([n(s).b(),e.customClass,n(d)]),style:O(n(S)),role:"alert",onMouseenter:T,onMouseleave:y,onClick:k[0]||(k[0]=(...U)=>e.onClick&&e.onClick(...U))},[n(u)?(h(),N(n(W),{key:0,class:E([n(s).e("icon"),n(v)])},{default:g(()=>[(h(),N(oe(n(u))))]),_:1},8,["class"])):V("v-if",!0),C("div",{class:E(n(s).e("group"))},[C("h2",{class:E(n(s).e("title")),textContent:q(e.title)},null,10,Fe),A(C("div",{class:E(n(s).e("content")),style:O(e.title?void 0:{margin:0})},[se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(h(),L(ne,{key:1},[V(" Caution here, message could've been compromised, never use user's input as message "),C("p",{innerHTML:e.message},null,8,Le)],2112)):(h(),L("p",He,q(e.message),1))])],6),[[R,e.message]]),e.showClose?(h(),N(n(W),{key:0,class:E(n(s).e("closeBtn")),onClick:ae(w,["stop"])},{default:g(()=>[p(n(m))]),_:1},8,["class","onClick"])):V("v-if",!0)],2)],46,Ve),[[R,r.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ze=ie(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const I={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},P=16;let Ue=1;const x=function(t={},a=null){if(!ce)return{close:()=>{}};(typeof t=="string"||M(t))&&(t={message:t});const o=t.position||"top-right";let s=t.offset||0;I[o].forEach(({vm:v})=>{var u;s+=(((u=v.el)==null?void 0:u.offsetHeight)||0)+P}),s+=P;const f=`notification_${Ue++}`,c=t.onClose,i={...t,offset:s,id:f,onClose:()=>{De(f,o,c)}};let m=document.body;j(t.appendTo)?m=t.appendTo:de(t.appendTo)&&(m=document.querySelector(t.appendTo)),j(m)||(m=document.body);const r=document.createElement("div"),l=p(ze,i,M(i.message)?{default:()=>i.message}:null);return l.appContext=a??x._context,l.props.onDestroy=()=>{G(null,r)},G(l,r),I[o].push({vm:l}),m.appendChild(r.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};K.forEach(t=>{x[t]=(a={})=>((typeof a=="string"||M(a))&&(a={message:a}),x({...a,type:t}))});function De(t,a,o){const s=I[a],f=s.findIndex(({vm:l})=>{var v;return((v=l.component)==null?void 0:v.props.id)===t});if(f===-1)return;const{vm:c}=s[f];if(!c)return;o==null||o(c);const i=c.el.offsetHeight,m=a.split("-")[0];s.splice(f,1);const r=s.length;if(!(r<1))for(let l=f;l<r;l++){const{el:v,component:u}=s[l].vm,d=Number.parseInt(v.style[m],10)-i-P;u.props.offset=d}}function Ae(){for(const t of Object.values(I))t.forEach(({vm:a})=>{a.component.exposed.visible.value=!1})}x.closeAll=Ae;x._context=null;const Z=pe(x,"$notify");const J=t=>(xe("data-v-29a7c41d"),t=t(),be(),t),Oe={class:"container"},We=J(()=>C("h1",null,"Hello",-1)),qe=J(()=>C("h2",null,"欢迎来到商品管理系统",-1)),Re=z({__name:"index",setup(t){let a=fe(),o=H(),s=me(),f=ve(),c=H(!1);const i=_e({username:"admin",password:"111111"}),m=async()=>{await o.value.validate(),c.value=!0;try{await a.userLogin(i);let u=f.query.redirect;s.push({path:u||"/"}),Z({type:"success",message:"欢迎回来",title:`Hi,${Ie()}好`}),c.value=!1}catch(u){c.value=!1,Z({type:"error",message:u.message})}},v={username:[{trigger:"change",validator:(u,d,_)=>{d.length>=5?_():_(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(u,d,_)=>{d.length>=6?_():_(new Error("密码长度至少六位"))}}]};return(u,d)=>{const _=Te,S=Ce,y=we,T=Ne,w=Ee,$=ke;return h(),L("div",Oe,[p($,null,{default:g(()=>[p(_,{span:12,xs:0}),p(_,{span:12,xs:24,class:"loginBox"},{default:g(()=>[p(w,{"label-width":"40px",model:i,rules:v,ref_key:"loginForms",ref:o,style:{"max-width":"460px"},class:"loginFrom"},{default:g(()=>[We,qe,p(y,{prop:"username"},{default:g(()=>[p(S,{"prefix-icon":n(ge),modelValue:i.username,"onUpdate:modelValue":d[0]||(d[0]=e=>i.username=e)},null,8,["prefix-icon","modelValue"])]),_:1}),p(y,{prop:"password"},{default:g(()=>[p(S,{type:"password","show-password":"","prefix-icon":n(ye),modelValue:i.password,"onUpdate:modelValue":d[1]||(d[1]=e=>i.password=e)},null,8,["prefix-icon","modelValue"])]),_:1}),p(y,null,{default:g(()=>[p(T,{loading:n(c),class:"loginBtn",type:"primary",onClick:m},{default:g(()=>[he("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const Je=Se(Re,[["__scopeId","data-v-29a7c41d"]]);export{Je as default};
